C251 COMPILER V5.60.0,  nvic                                                               25/04/24  13:33:28  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE nvic
OBJECT MODULE PLACED IN .\Out_flie\nvic.obj
COMPILER INVOKED BY: D:\Keil_80251\C251\BIN\C251.EXE ..\LIB\libraries\nvic.c XSMALL INTR2 BROWSE INCDIR(..\LIB\startup;.
                    -.\LIB\libraries;..\LIB\peripheral;..\USER\inc) DEBUG PRINT(.\Listings\nvic.lst) TABS(2) OBJECT(.\Out_flie\nvic.obj) 

stmt  level    source

    1          
    2          /********************************************************************************************************
             -*************
    3           * @file          apic(中断优先级管理)
    4           * @date          2024-03-06
    5           * @note    
    6           ********************************************************************************************************
             -************/
    7          
    8          
    9          #include "nvic.h"
   10          
   11          //-------------------------------------------------------------------------------------------------------
             -------------
   12          //  @brief      中断优先级管理
   13          //  @param      irqn         选择IRQn模块
   14          //  @param      priority     从0到3，优先级依次增加
   15          //  @return     void
   16          //  Sample usage:            NVIC_SetPriority(UART1_IRQn, 3); //设置串口 1 中断优先级为 3 级（最高级）
   17          //  @note          如果在周期中断中，通过串口发送数据。
   18          //               那么串口中断的优先级一定要高于周期中断的优先级
   19          //               这样才能正常发送数据。 
   20          //-------------------------------------------------------------------------------------------------------
             -------------
   21          void NVIC_SetPriority(NVIC_IRQn_enum irqn,uint8 priority)
   22          {
   23   1        if((irqn >> 4) == 0)
   24   1        {
   25   2          IP  |= (priority & 0x01) << (irqn & 0x0F);
   26   2          IPH |= ((priority >> 1) & 0x01) << (irqn & 0x0F);
   27   2        }
   28   1        else if((irqn >> 4) == 1)
   29   1        {
   30   2          IP2  |= (priority & 0x01) << (irqn & 0x0F);
   31   2          IP2H |= ((priority >> 1) & 0x01) << (irqn & 0x0F);
   32   2        }
   33   1        else if((irqn >> 4) == 2)
   34   1        {
   35   2      //    IP3  |= (priority & 0x01) << (irqn & 0x0F);
   36   2      //    IP3H |= ((priority >> 1) & 0x01) << (irqn & 0x0F);
   37   2        }
   38   1      }
   39          


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       108     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
C251 COMPILER V5.60.0,  nvic                                                               25/04/24  13:33:28  PAGE 2   

  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
